{"version":3,"sources":["pages/DisplayList.js","components/HarvestedItemFilterBlock.js","utility/stringUtil.js","data/Monster.js","data/HarvestingTable.js","data/TrinketTable.js","data/CraftableItem.js","data/HarvestedItem.js","utility/StorageUtil.js","utility/harvestedItemUtil.js","pages/HarvestedItems.js","pages/Home.js","utility/saveFile.js","components/ChallengeRatingDisplay.js","data/referenceCardSizes.js","utility/creatureTypeUtil.js","components/MonsterFilterBlock.js","pages/Monsters.js","utility/challengeRatingUtil.js","utility/inputUtil.js","utility/descriptionUtil.js","utility/craftableItemUtil.js","pages/CraftableItems.js","navigationConstants.js","LayoutControl/NavMenu.js","LayoutControl/Layout.js","App.js","serviceWorker.js","index.js"],"names":["DisplayColumn","colDisplay","listDisplayFunc","ascendingSortFunction","this","sortFunc","bind","sortAscending","sortDescending","isAscending","a","b","DisplayList","props","headers","items","useState","sortByIdx","setSortByIdx","setSortAscending","headerRowContents","i","push","Col","key","onClick","e","preventDefault","className","length","filterObject","filterKeys","Object","keys","filter","sort","contentsRows","itemLen","map","item","idx","DisplayListRow","idFunction","pathRoot","isSelected","selectedId","Row","history","useHistory","innerCols","desiredId","headerLen","h","headerObj","pathRoute","activeName","HarvestedItemFilterBlock","label","value","setter","nameField","setNameField","filterRows","type","style","width","onChange","target","onSubmit","obj","Name","toLowerCase","match","submitFilter","display","x","y","Monster","name","referenceCardSize","source","otherSources","creatureSize","creatureType","stats","armorClass","challengeRating","health","passivePerc","languages","speed","saves","skills","senses","alignment","resistances","immunities","conditionImmunities","traits","spellcasting","actions","reactions","environments","legendaryHeader","legendaryActions","harvestingTable","trinketTableType","cardSize","size","fiveEState","feType","CreatureType","tags","console","log","feCR","cr","ChallengeRating","lair","coven","feACLines","ac","line","acObj","Number","parseInt","from","condition","ArmorClass","StatsBlock","HealthBlock","hp","passive","SpeedBlock","walk","fly","swim","climb","burrow","canHover","save","skill","resist","immune","conditionImmune","trait","action","reaction","environment","legendary","oldState","str","dex","con","int","wis","cha","HarvestingTable","TrinketTableType","replace","strOut","join","matches","exec","average","formula","SPEED_KEYS","undefined","SpeedEntry","ft","forEach","val","simpleDisplay","inObj","number","rows","HarvestingTableRow","dc","DifficultyClass","itemNameRef","ItemNameRef","qty","Quantity","notes","Notes","r","oldMonster","Rows","row","difficultyClass","itemNameReference","quantity","TrinketTable","TrinketTableRow","d8Roll","D8Roll","descriptionLine","DescriptionLine","ValueGP","weight","WeightLB","CraftableItem","crafter","rarity","requiresAttunement","description","materials","materialGrouping","attunementNote","oldItem","Crafter","Rarity","RequiresAttunement","Description","Materials","matRow","componentId","ComponentId","Type","MaterialGrouping","AttunementNote","HarvestedItem","craftingUsage","useText","requiredToolNames","CraftingUsage","UseText","RequiredToolNames","$","window","ajaxJson","fileName","Promise","resolve","reject","getJSON","data","Load5eMonsterFile","localKey","Storage","processedKeys","includes","processingKeys","_meta","meta","dependencies","monster","jdx","depKey","mon","_copy","from5eSource","monsterDict","id","err","error","_init","subStateMonsterDict","harvestingTableDict","harvestableItemDict","trinketTableDict","craftableItemDict","Init","Index","Data","monsters","SubStateMonster","harvestingTables","harvestedItems","harvestedItem","trinketTables","trinketTable","craftableItems","craftableItem","storage","harvestingTableGroup","getItemReference","simplePassthrough","joinArray","splitArray","split","HarvestedItemDisplay","hItem","para","React","Component","HarvestedItems","filterObj","setFilterObj","matchPath","location","pathname","path","params","sortStrAsc","harvestedOutput","xs","md","values","Home","filename","fileContent","link","document","createElement","download","href","encodeURIComponent","body","appendChild","click","removeChild","fileSaveAs","JSON","stringify","height","CRList","crOut","CARD_SIZES","SWARM_REGEX","CreatureTypeList","getCreatureTypeDisplayString","cType","toString","BlockRow_Text","MonsterFilterBlock","selectOpts","optLabels","typeField","setTypeField","cardSizeField","setCardSizeField","opt","CardSize","ReferenceCardSize","Monsters","outVal","sortCreatureTypeAsc","out","InLair","InCoven","sortCRAsc","subMon","subMonA","subMonB","list","ArrayInput","redraw","setRedraw","propObj","object","propKey","objKey","defaultInsert","insertLine","tarIndex","splice","arrayLines","subType","index","hideLabel","SelectInput","options","RadioButtonInput","onChangeFunc","checked","for","StringInput","propIdx","disabled","CheckboxInput","ModularDescription","desc","SimpleDescription","ListDescription","lines","ItemDescription","UnhandledDescription","entry","output","styleObj","listStyle","getIdFromItem","CraftableItemDisplay","materialOutput","mat","matItem","finalMaterialOutput","MaterialInput","CraftableItems","displayOutput","MENU","linkName","linkTarget","routePaths","exact","renderFunction","NavMenu","navOutput","linkDeets","NavItem","NavLink","tag","Link","to","Navbar","Container","NavbarBrand","navbar","Layout","fluid","children","App","routeOpts","render","Boolean","hostname","baseUrl","getElementsByTagName","getAttribute","rootElement","getElementById","then","ReactDOM","StrictMode","basename","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.70d87459.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport \"./DisplayList.css\";\r\n\r\nexport class DisplayColumn {\r\n  constructor(colDisplay, listDisplayFunc, ascendingSortFunction) {\r\n    this.colDisplay = colDisplay;\r\n    this.listDisplayFunc = listDisplayFunc;\r\n    this.ascendingSortFunction = ascendingSortFunction;\r\n\r\n    this.sortFunc = this.sortFunc.bind(this);\r\n    this.sortAscending = this.sortAscending.bind(this);\r\n    this.sortDescending = this.sortDescending.bind(this);\r\n  }\r\n\r\n  sortFunc(isAscending) {\r\n    return isAscending ? this.sortAscending : this.sortDescending;\r\n  }\r\n\r\n  sortAscending(a, b) {\r\n    return this.ascendingSortFunction(a, b);\r\n  }\r\n\r\n  sortDescending(a, b) {\r\n    return -this.ascendingSortFunction(a, b);\r\n  }\r\n}\r\n\r\nexport function DisplayList(props) {\r\n  // headers should be a collection of DisplayColumn instances\r\n  let headers = props.headers;\r\n  let items = props.items;\r\n\r\n  let [sortByIdx, setSortByIdx] = useState(0);\r\n  let [sortAscending, setSortAscending] = useState(true);\r\n\r\n  let headerRowContents = [];\r\n  for (let i = 0; i < headers.length; ++i) {\r\n    headerRowContents.push(\r\n      <Col\r\n        key={`dl-h-col-${i}`}\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n\r\n          if (i === sortByIdx) {\r\n            setSortAscending(!sortAscending);\r\n          } else {\r\n            setSortByIdx(i);\r\n            setSortAscending(true);\r\n          }\r\n        }}\r\n        className={`list-header ${i === sortByIdx && \"active\"}`}\r\n      >\r\n        {headers[i].colDisplay}{\" \"}\r\n        {i === sortByIdx && <>{sortAscending ? \"^\" : \"v\"}</>}\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  let filterObject = props.filterObject;\r\n  let filterKeys = Object.keys(filterObject);\r\n\r\n  for (let i = 0; i < filterKeys.length; ++i) {\r\n    items = items.filter(filterObject[filterKeys[i]]);\r\n  }\r\n\r\n  items.sort(headers[sortByIdx].sortFunc(sortAscending));\r\n\r\n  let contentsRows = [];\r\n  let itemLen = items.length;\r\n  for (let i = 0; i < itemLen; ++i) {\r\n    contentsRows.push();\r\n  }\r\n\r\n  contentsRows = items.map((item, idx) => {\r\n    return (\r\n      <DisplayListRow\r\n        key={`row-${props.idFunction(item)}`}\r\n        headers={headers}\r\n        item={item}\r\n        idFunction={props.idFunction}\r\n        pathRoot={props.pathRoot}\r\n        isSelected={props.idFunction(item) === props.selectedId}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {/* <span>{items.length}</span> */}\r\n      <Row className=\"mx-0\">{headerRowContents}</Row>\r\n      <ul className=\"element-list\">{contentsRows}</ul>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction DisplayListRow(props) {\r\n  let history = useHistory();\r\n\r\n  let { headers, item, idFunction, pathRoot, isSelected } = props;\r\n\r\n  let innerCols = [];\r\n\r\n  let desiredId = idFunction(item);\r\n\r\n  let headerLen = headers.length;\r\n  for (let h = 0; h < headerLen; ++h) {\r\n    let headerObj = headers[h];\r\n\r\n    innerCols.push(\r\n      <Col key={`${desiredId}-${h}`}>{headerObj.listDisplayFunc(item)}</Col>\r\n    );\r\n  }\r\n\r\n  let pathRoute = `${pathRoot}/${desiredId}`;\r\n\r\n  let activeName = isSelected ? \"active\" : \"\";\r\n\r\n  return (\r\n    <li\r\n      onClick={(e) => {\r\n        history.push(pathRoute);\r\n        e.preventDefault();\r\n      }}\r\n      className={activeName}\r\n    >\r\n      <Row>{innerCols}</Row>\r\n    </li>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\n\r\nfunction BlockRow_Text(key, label, value, setter) {\r\n    return (\r\n        <Row key={key}>\r\n            <Col className=\"col-3\">{label}:</Col>\r\n            <Col>\r\n                <input\r\n                    type=\"text\"\r\n                    value={value}\r\n                    style={{\r\n                        width: \"inherit\",\r\n                    }}\r\n                    onChange={(e) => {\r\n                        e.preventDefault();\r\n                        setter(e.target.value);\r\n                    }}\r\n                />\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport function HarvestedItemFilterBlock(props) {\r\n    let [nameField, setNameField] = useState(\"\");\r\n\r\n    let filterRows = [];\r\n\r\n    filterRows.push(\r\n        BlockRow_Text(filterRows.length, \"Name\", nameField, setNameField)\r\n    );\r\n\r\n    return (\r\n        <form\r\n            className=\"border\"\r\n            onSubmit={(e) => {\r\n                let obj = {};\r\n                if (nameField !== \"\") {\r\n                    obj.Name = (obj) => {\r\n                        return obj.Name.toLowerCase().match(\r\n                            nameField.toLowerCase()\r\n                        );\r\n                    };\r\n                }\r\n\r\n                props.submitFilter(obj);\r\n                e.preventDefault();\r\n            }}\r\n        >\r\n            {filterRows}\r\n            <button type=\"submit\" style={{ display: \"none\" }}>\r\n                Apply Filter\r\n            </button>\r\n        </form>\r\n    );\r\n}\r\n","export function sortAscending(a, b) {\r\n  let x = a.toLowerCase();\r\n  let y = b.toLowerCase();\r\n\r\n  if (y < x) {\r\n    return 1;\r\n  }\r\n  if (x < y) {\r\n    return -1;\r\n  }\r\n  return 0;\r\n}\r\n\r\n// function splitForTags(str) {\r\n//   if (str.includes(\"{@\")) {\r\n//     return str;\r\n//   } else {\r\n//     return str;\r\n//   }\r\n// }\r\n\r\nexport function stripTags(throughString) {\r\n  return throughString;\r\n\r\n  // const MAIN_PATTERN = /{(?<tag>@\\w+)(?<internal>.*?)}/;\r\n  // let matches = null;\r\n  // let matchGroups = null;\r\n\r\n  // do {\r\n  //   matches = MAIN_PATTERN.exec(throughString);\r\n\r\n  //   if (!matches) {\r\n  //     return throughString;\r\n  //   }\r\n\r\n  //   matchGroups = matches.groups;\r\n\r\n  //   switch (matchGroups.tag) {\r\n  //     case \"@b\":\r\n  //     case \"@bold\":\r\n  //     case \"@i\":\r\n  //     case \"@italic\":\r\n  //     case \"@s\":\r\n  //     case \"@strike\":\r\n  //     case \"@u\":\r\n  //     case \"@underline\":\r\n  //       return matchGroups.internal;\r\n\r\n  //     case \"@h\":\r\n  //       return \"Hit: \";\r\n\r\n  //     case \"@dc\":\r\n  //       return `DC ${matchGroups.internal}`;\r\n\r\n  //     case \"@atk\":\r\n  //     // return Renderer.attackTagToFull(text);\r\n\r\n  //     case \"@chance\":\r\n  //     case \"@d20\":\r\n  //     case \"@damage\":\r\n  //     case \"@dice\":\r\n  //     case \"@hit\":\r\n  //     case \"@recharge\": {\r\n  //       // const [rollText, displayText] = Renderer.splitTagByPipe(text);\r\n  //       switch (matchGroups.tag) {\r\n  //         case \"@damage\":\r\n  //         case \"@dice\": {\r\n  //           // return displayText || rollText.replace(/;/g, \"/\");\r\n  //         }\r\n  //         case \"@d20\":\r\n  //         case \"@hit\": {\r\n  //           // return (\r\n  //           //   displayText ||\r\n  //           //   (() => {\r\n  //           //     const n = Number(rollText);\r\n  //           //     if (isNaN(n)) {\r\n  //           //       throw new Error(`Could not parse \"${rollText}\" as a number!`);\r\n  //           //     }\r\n  //           //     return `${n >= 0 ? \"+\" : \"\"}${n}`;\r\n  //           //   })()\r\n  //           // );\r\n  //         }\r\n  //         case \"@recharge\": {\r\n  //           // const asNum = Number(rollText || 6);\r\n  //           // if (isNaN(asNum)) {\r\n  //           //   throw new Error(`Could not parse \"${rollText}\" as a number!`);\r\n  //           // }\r\n  //           // return `(Recharge ${asNum}${asNum < 6 ? `\\u20136` : \"\"})`;\r\n  //         }\r\n  //         case \"@chance\": {\r\n  //           // return displayText || `${rollText} percent`;\r\n  //         }\r\n  //       }\r\n  //       // throw new Error(`Unhandled tag: ${tag}`);\r\n  //     }\r\n\r\n  //     case \"@comic\":\r\n  //     case \"@comicH1\":\r\n  //     case \"@comicH2\":\r\n  //     case \"@comicH3\":\r\n  //     case \"@comicH4\":\r\n  //     case \"@comicNote\":\r\n  //     case \"@note\":\r\n  //     case \"@sense\":\r\n  //     case \"@skill\": {\r\n  //       // return text;\r\n  //     }\r\n\r\n  //     case \"@5etools\":\r\n  //     case \"@adventure\":\r\n  //     case \"@book\":\r\n  //     case \"@filter\":\r\n  //     case \"@footnote\":\r\n  //     case \"@link\":\r\n  //     case \"@scaledice\":\r\n  //     case \"@scaledamage\":\r\n  //     case \"@loader\":\r\n  //     case \"@color\":\r\n  //     case \"@highlight\": {\r\n  //       // const parts = Renderer.splitTagByPipe(text);\r\n  //       // return parts[0];\r\n  //     }\r\n\r\n  //     case \"@area\": {\r\n  //       // const [compactText, areaId, flags, ...others] = Renderer.splitTagByPipe(\r\n  //       //   text\r\n  //       // );\r\n  //       // return flags && flags.includes(\"x\")\r\n  //       //   ? compactText\r\n  //       //   : `${flags && flags.includes(\"u\") ? \"A\" : \"a\"}rea ${compactText}`;\r\n  //     }\r\n\r\n  //     case \"@action\":\r\n  //     case \"@background\":\r\n  //     case \"@boon\":\r\n  //     case \"@class\":\r\n  //     case \"@condition\":\r\n  //     case \"@creature\":\r\n  //     case \"@cult\":\r\n  //     case \"@disease\":\r\n  //     case \"@feat\":\r\n  //     case \"@hazard\":\r\n  //     case \"@item\":\r\n  //     case \"@language\":\r\n  //     case \"@object\":\r\n  //     case \"@optfeature\":\r\n  //     case \"@psionic\":\r\n  //     case \"@race\":\r\n  //     case \"@reward\":\r\n  //     case \"@vehicle\":\r\n  //     case \"@spell\":\r\n  //     case \"@status\":\r\n  //     case \"@table\":\r\n  //     case \"@trap\":\r\n  //     case \"@variantrule\": {\r\n  //       // const parts = Renderer.splitTagByPipe(text);\r\n  //       // return parts.length >= 3 ? parts[2] : parts[0];\r\n  //     }\r\n\r\n  //     case \"@deity\": {\r\n  //       // const parts = Renderer.splitTagByPipe(text);\r\n  //       // return parts.length >= 4 ? parts[3] : parts[0];\r\n  //     }\r\n\r\n  //     case \"@classFeature\": {\r\n  //       // const parts = Renderer.splitTagByPipe(text);\r\n  //       // return parts.length >= 6 ? parts[5] : parts[0];\r\n  //     }\r\n\r\n  //     case \"@subclassFeature\": {\r\n  //       // const parts = Renderer.splitTagByPipe(text);\r\n  //       // return parts.length >= 8 ? parts[7] : parts[0];\r\n  //     }\r\n\r\n  //     case \"@homebrew\": {\r\n  //     }\r\n  //     default:\r\n  //       break;\r\n  //   }\r\n\r\n  //   return matchGroups.internal.trim();\r\n\r\n  //   break;\r\n  // } while (true);\r\n\r\n  // const TAG_PATTERN = /(?<pre>.*){@(?<tag>\\S*) (?<text>[^|]*)(?<filters>|.*)?}(?<post>.*)/g;\r\n\r\n  // let matchGroup = TAG_PATTERN.exec(throughString);\r\n  // //console.log(throughString + \" => \" + JSON.stringify(matchGroup.groups));\r\n\r\n  // if (false && matchGroup) {\r\n  //   return matchGroup.groups.pre + \" \" + matchGroup.groups.text;\r\n  // } else {\r\n  //   return throughString;\r\n  // }\r\n}\r\n","export class Monster {\r\n  static from5eSource(fiveEState) {\r\n    let feType = null;\r\n\r\n    switch (typeof fiveEState.type) {\r\n      case \"string\":\r\n        feType = new CreatureType({ type: fiveEState.type });\r\n        break;\r\n      case \"object\":\r\n        feType = new CreatureType({\r\n          type: fiveEState.type.type,\r\n          tags: fiveEState.type.tags,\r\n        });\r\n        break;\r\n      default:\r\n        console.log(\r\n          `Unhandled creatureType type: ${typeof fiveEState.type} => ${\r\n            fiveEState.type\r\n          } of ${fiveEState.name}`\r\n        );\r\n        break;\r\n    }\r\n\r\n    let feCR = null;\r\n\r\n    switch (typeof fiveEState.cr) {\r\n      case \"string\":\r\n        feCR = new ChallengeRating({ cr: fiveEState.cr });\r\n        break;\r\n      case \"object\":\r\n        feCR = new ChallengeRating({\r\n          cr: fiveEState.cr.cr,\r\n          lair: fiveEState.cr.lair,\r\n          coven: fiveEState.cr.coven,\r\n        });\r\n        break;\r\n      case \"undefined\":\r\n        feCR = new ChallengeRating({});\r\n        break;\r\n      default:\r\n        console.log(\r\n          `Unhandled CR type: ${typeof fiveEState.cr} => ${fiveEState.cr} of ${\r\n            fiveEState.name\r\n          }`\r\n        );\r\n        break;\r\n    }\r\n\r\n    let feACLines = [];\r\n    for (let i = 0; i < fiveEState.ac.length; ++i) {\r\n      let line = fiveEState.ac[i];\r\n      let acObj = {};\r\n\r\n      switch (typeof line) {\r\n        case \"number\":\r\n          acObj.ac = line;\r\n          break;\r\n        case \"string\":\r\n          acObj.ac = Number.parseInt(line);\r\n          break;\r\n        case \"object\":\r\n          acObj.ac = Number.parseInt(line.ac);\r\n          acObj.from = line.from;\r\n          acObj.condition = line.condition;\r\n          break;\r\n        default:\r\n          console.log(\r\n            `Unhandled AC type: ${typeof fiveEState.ac} => ${\r\n              fiveEState.ac\r\n            } of ${fiveEState.name}`\r\n          );\r\n          break;\r\n      }\r\n\r\n      feACLines.push(new ArmorClass(acObj));\r\n    }\r\n\r\n    return new Monster({\r\n      name: fiveEState.name, //   name,\r\n      referenceCardSize: 0, // referenceCardSize,\r\n      source: fiveEState.source, // source,\r\n      otherSources: fiveEState.otherSources, // otherSources,\r\n      size: fiveEState.size, // creatureSize,\r\n      creatureType: feType, // creatureType,\r\n      stats: new StatsBlock(\r\n        fiveEState\r\n        // fiveEState.str,\r\n        // fiveEState.dex,\r\n        // fiveEState.con,\r\n        // fiveEState.int,\r\n        // fiveEState.wis,\r\n        // fiveEState.cha\r\n      ), // stats,\r\n      armorClass: feACLines, // armorClass,\r\n      challengeRating: feCR, // challengeRating,\r\n      health: new HealthBlock(fiveEState.hp), // health,\r\n      passivePerc: fiveEState.passive, // passivePerc,\r\n      languages: fiveEState.languages, // languages,\r\n      speed: new SpeedBlock({\r\n        walk: fiveEState.speed.walk,\r\n        fly: fiveEState.speed.fly,\r\n        swim: fiveEState.speed.swim,\r\n        climb: fiveEState.speed.climb,\r\n        burrow: fiveEState.speed.burrow,\r\n        canHover: fiveEState.speed.canHover,\r\n      }), // speed,\r\n      saves: fiveEState.save, // saves,\r\n      skills: fiveEState.skill, // skills,\r\n      senses: fiveEState.senses, // senses,\r\n      alignment: fiveEState.alignment, // alignment\r\n      resistances: fiveEState.resist, // resistances\r\n      immunities: fiveEState.immune, // immunity\r\n      conditionImmunities: fiveEState.conditionImmune, // conditionImmunities\r\n      traits: fiveEState.trait, //traits\r\n      spellcasting: fiveEState.spellcasting, //spellcasting\r\n      actions: fiveEState.action, //actions\r\n      reactions: fiveEState.reaction, //reactions\r\n      environments: fiveEState.environment, //environments\r\n      legendaryHeader: fiveEState.legendaryHeader, //legendaryHeader\r\n      legendaryActions: fiveEState.legendary, //legendaryActions\r\n    });\r\n  }\r\n\r\n  static fromCombinedSources(oldState, fiveEState) {\r\n    let feType = null;\r\n\r\n    switch (typeof fiveEState.type) {\r\n      case \"string\":\r\n        feType = new CreatureType({ type: fiveEState.type });\r\n        break;\r\n      case \"object\":\r\n        feType = new CreatureType({\r\n          type: fiveEState.type.type,\r\n          tags: fiveEState.type.tags,\r\n        });\r\n        break;\r\n      default:\r\n        console.log(`Unhandled creatureType type: ${typeof fiveEState.type}`);\r\n        break;\r\n    }\r\n\r\n    let feCR = null;\r\n\r\n    switch (typeof fiveEState.cr) {\r\n      case \"string\":\r\n        feCR = new ChallengeRating({ cr: fiveEState.cr });\r\n        break;\r\n      case \"object\":\r\n        feCR = new ChallengeRating({\r\n          cr: fiveEState.cr.cr,\r\n          lair: fiveEState.cr.lair,\r\n          coven: fiveEState.cr.coven,\r\n        });\r\n        break;\r\n      default:\r\n        console.log(`Unhandled CR type: ${typeof fiveEState.type}`);\r\n        break;\r\n    }\r\n\r\n    let feACLines = [];\r\n    for (let i = 0; i < fiveEState.ac.length; ++i) {\r\n      let line = fiveEState.ac[i];\r\n      let acObj = {};\r\n\r\n      switch (typeof fiveEState.cr) {\r\n        case \"number\":\r\n          acObj.ac = line;\r\n          break;\r\n        case \"string\":\r\n          acObj.ac = Number(line);\r\n          break;\r\n        case \"object\":\r\n          acObj.ac = line.ac;\r\n          acObj.from = line.from;\r\n          break;\r\n        default:\r\n          console.log(`Unhandled AC type: ${typeof fiveEState.type}`);\r\n          break;\r\n      }\r\n\r\n      feACLines.push(new ArmorClass(acObj));\r\n    }\r\n\r\n    return new Monster(\r\n      fiveEState.name, //   name,\r\n      oldState ? oldState.referenceCardSize : 0, // referenceCardSize,\r\n      fiveEState.source, // source,\r\n      fiveEState.otherSources, // otherSources,\r\n      fiveEState.size, // creatureSize,\r\n      feType, // creatureType,\r\n      new StatsBlock(\r\n        fiveEState.str,\r\n        fiveEState.dex,\r\n        fiveEState.con,\r\n        fiveEState.int,\r\n        fiveEState.wis,\r\n        fiveEState.cha\r\n      ), // stats,\r\n      feACLines, // armorClass,\r\n      feCR, // challengeRating,\r\n      new HealthBlock(fiveEState.hp), // health,\r\n      fiveEState.passive, // passivePerc,\r\n      fiveEState.languages, // languages,\r\n      new SpeedBlock(fiveEState.speed), // speed,\r\n      fiveEState.save, // saves,\r\n      fiveEState.skill, // skills,\r\n      fiveEState.senses, // senses,\r\n      fiveEState.alignment, // alignment\r\n      fiveEState.resist, // resistance\r\n      fiveEState.immune, // immunity\r\n      fiveEState.conditionImmune, // condition immunity\r\n      [], //traits, //traits\r\n      [], //spellcasting, //spellcasting\r\n      [], //actions, //actions\r\n      [], //reactions, //reactions\r\n      [], //environments, //environments\r\n      [], //legendaryHeader, //legendaryHeader\r\n      [], //legendaryActions, //legendaryActions\r\n      oldState ? new HarvestingTable(oldState.HarvestingTable) : null, // harvestingTable\r\n      oldState ? oldState.TrinketTableType : null // trinketTableType\r\n    );\r\n  }\r\n\r\n  constructor({\r\n    name,\r\n    referenceCardSize,\r\n    source,\r\n    otherSources,\r\n    creatureSize,\r\n    creatureType,\r\n    stats,\r\n    armorClass,\r\n    challengeRating,\r\n    health,\r\n    passivePerc,\r\n    languages,\r\n    speed,\r\n    saves,\r\n    skills,\r\n    senses,\r\n    alignment,\r\n    resistances,\r\n    immunities,\r\n    conditionImmunities,\r\n    traits,\r\n    spellcasting,\r\n    actions,\r\n    reactions,\r\n    environments,\r\n    legendaryHeader,\r\n    legendaryActions,\r\n    harvestingTable,\r\n    trinketTableType,\r\n  }) {\r\n    this.name = name;\r\n    this.cardSize = referenceCardSize;\r\n    this.source = source;\r\n    this.otherSources = otherSources || [];\r\n    this.size = creatureSize;\r\n    this.type = creatureType;\r\n    this.speed = speed;\r\n    this.stats = stats;\r\n    this.saves = saves || null;\r\n    this.skills = skills;\r\n    this.senses = senses;\r\n    this.armorClass = armorClass;\r\n    this.health = health;\r\n    this.passivePerc = passivePerc;\r\n    this.languages = languages;\r\n    this.challengeRating = challengeRating;\r\n    this.resistances = resistances || null;\r\n    this.immunities = immunities || null;\r\n    this.conditionImmunities = conditionImmunities || null;\r\n    this.alignment = alignment;\r\n    this.traits = traits || [];\r\n    this.spellcasting = spellcasting || [];\r\n    this.actions = actions || [];\r\n    this.reactions = reactions || [];\r\n    this.environments = environments || [];\r\n    this.legendaryHeader = legendaryHeader;\r\n    this.legendaryActions = legendaryActions || [];\r\n    this.harvestingTable = harvestingTable || null;\r\n    this.trinketTableType = trinketTableType || null;\r\n  }\r\n\r\n  get id() {\r\n    return (\r\n      this.name.replace(/[\\s'\\-()]/g, \"\") +\r\n      \"_\" +\r\n      this.source\r\n    ).toLowerCase();\r\n  }\r\n}\r\n\r\n// Monster Bits\r\nclass ArmorClass {\r\n  constructor({ ac, from, condition }) {\r\n    this.ac = ac;\r\n    this.from = from;\r\n    this.condition = condition;\r\n  }\r\n\r\n  get simpleDisplay() {\r\n    //return JSON.stringify(this);\r\n    var strOut = this.ac;\r\n\r\n    if (this.from) {\r\n      strOut = `${this.ac} (${this.from.join(\", \")})`;\r\n    } else if (this.condition) {\r\n      strOut = `${this.ac} (${this.condition.join(\", \")})`;\r\n    }\r\n\r\n    return strOut;\r\n  }\r\n}\r\n\r\nclass CreatureType {\r\n  constructor({ type, tags }) {\r\n    this.type = type;\r\n    this.tags = tags || [];\r\n  }\r\n}\r\n\r\nclass ChallengeRating {\r\n  constructor({ cr, lair, coven }) {\r\n    this.cr = cr || null;\r\n    var matches = /\\d+\\/(\\d+)/g.exec(this.cr);\r\n    if (matches !== null && matches.length > 0) {\r\n      this.cr = 1 / Number.parseInt(matches[1]);\r\n    } else this.cr = Number.parseInt(this.cr);\r\n    this.lair = lair || null;\r\n    this.coven = coven || null;\r\n  }\r\n}\r\n\r\nclass HealthBlock {\r\n  constructor({ average, formula }) {\r\n    this.average = average;\r\n    this.formula = formula;\r\n  }\r\n}\r\n\r\nconst SPEED_KEYS = [\"fly\", \"climb\", \"swim\", \"burrow\"];\r\nclass SpeedBlock {\r\n  constructor({ walk, fly, climb, swim, burrow, canHover }) {\r\n    this.walk = walk !== undefined ? new SpeedEntry(walk) : null;\r\n    this.fly = fly !== undefined ? new SpeedEntry(fly) : null;\r\n    this.climb = climb !== undefined ? new SpeedEntry(climb) : null;\r\n    this.swim = swim !== undefined ? new SpeedEntry(swim) : null;\r\n    this.burrow = burrow !== undefined ? new SpeedEntry(burrow) : null;\r\n    this.canHover = canHover !== undefined ? canHover : false;\r\n  }\r\n\r\n  get simpleDisplay() {\r\n    let strOut = `${this.walk.ft} ft.`;\r\n\r\n    SPEED_KEYS.forEach((val) => {\r\n      if (this[val]) {\r\n        strOut += `, ${val} ${this[val].simpleDisplay}`;\r\n      }\r\n    });\r\n\r\n    return strOut;\r\n  }\r\n}\r\n\r\nclass SpeedEntry {\r\n  constructor(inObj) {\r\n    if (typeof inObj === \"number\" || inObj === 0) {\r\n      this.ft = inObj;\r\n      this.condition = null;\r\n    } else {\r\n      this.ft = inObj.number;\r\n      this.condition = inObj.condition;\r\n    }\r\n  }\r\n\r\n  get simpleDisplay() {\r\n    if (!this.condition) {\r\n      return `${this.ft} ft.`;\r\n    } else {\r\n      return `${this.ft} ft. ${this.condition}`;\r\n    }\r\n  }\r\n}\r\n\r\nclass StatsBlock {\r\n  constructor({ str, dex, con, int, wis, cha }) {\r\n    this.str = str;\r\n    this.dex = dex;\r\n    this.con = con;\r\n    this.int = int;\r\n    this.wis = wis;\r\n    this.cha = cha;\r\n  }\r\n}\r\n\r\n// HarvestingTables\r\nclass HarvestingTable {\r\n  constructor(inObj) {\r\n    this.rows = [];\r\n    for (let i = 0; i < inObj.rows; ++i) {\r\n      this.rows.push(new HarvestingTableRow(inObj.rows[i]));\r\n    }\r\n  }\r\n}\r\n\r\nclass HarvestingTableRow {\r\n  constructor(inObj) {\r\n    this.dc = inObj.DifficultyClass;\r\n    this.itemNameRef = inObj.ItemNameRef;\r\n    this.qty = inObj.Quantity;\r\n    this.notes = inObj.Notes;\r\n  }\r\n}\r\n","export class HarvestingTable {\r\n  static fromOld(oldMonster) {\r\n    if (!oldMonster.HarvestingTable.Rows) return null;\r\n\r\n    return new HarvestingTable({\r\n      name: oldMonster.Name,\r\n      rows: oldMonster.HarvestingTable.Rows.map(\r\n        (row) =>\r\n          new HarvestingTableRow({\r\n            difficultyClass: row.DifficultyClass,\r\n            itemNameReference: row.ItemNameRef,\r\n            quantity: row.Quantity,\r\n            notes: row.Notes,\r\n          })\r\n      ),\r\n    });\r\n  }\r\n\r\n  constructor({ name, rows }) {\r\n    this.name = name;\r\n    this.rows = rows.map((r) => new HarvestingTableRow(r));\r\n  }\r\n}\r\n\r\nclass HarvestingTableRow {\r\n  constructor({ difficultyClass, itemNameReference, quantity, notes }) {\r\n    this.difficultyClass = difficultyClass;\r\n    this.itemNameReference = itemNameReference;\r\n    this.quantity = quantity;\r\n    this.notes = notes;\r\n  }\r\n}\r\n","export class TrinketTable {\r\n  static fromOld({ TrinketTableType, Rows }) {\r\n    return new TrinketTable({\r\n      trinketTableType: TrinketTableType,\r\n      rows: Rows.map(\r\n        (row) =>\r\n          new TrinketTableRow({\r\n            d8Roll: row.D8Roll,\r\n            descriptionLine: row.DescriptionLine,\r\n            value: row.ValueGP,\r\n            weight: row.WeightLB,\r\n          })\r\n      ),\r\n    });\r\n  }\r\n\r\n  constructor({ trinketTableType, rows }) {\r\n    this.trinketTableType = trinketTableType;\r\n    this.rows = rows;\r\n  }\r\n}\r\n\r\nclass TrinketTableRow {\r\n  constructor({ d8Roll, descriptionLine, value, weight }) {\r\n    this.d8Roll = d8Roll;\r\n    this.descriptionLine = descriptionLine;\r\n    this.value = value;\r\n    this.weight = weight;\r\n  }\r\n}\r\n","export class CraftableItem {\r\n  static fromOld(oldItem) {\r\n    return new CraftableItem({\r\n      name: oldItem.Name,\r\n      crafter: oldItem.Crafter,\r\n      rarity: oldItem.Rarity,\r\n      requiresAttunement: oldItem.RequiresAttunement,\r\n      description: oldItem.Description,\r\n      materials: oldItem.Materials.map((matRow) => {\r\n        return { componentId: matRow.ComponentId, quantity: matRow.Quantity };\r\n      }),\r\n      type: oldItem.Type,\r\n      materialGrouping: oldItem.MaterialGrouping,\r\n      attunementNote: oldItem.AttunementNote,\r\n    });\r\n  }\r\n\r\n  constructor({\r\n    name,\r\n    crafter,\r\n    rarity,\r\n    requiresAttunement,\r\n    description,\r\n    materials,\r\n    type,\r\n    materialGrouping,\r\n    attunementNote,\r\n  }) {\r\n    this.name = name;\r\n    this.crafter = crafter;\r\n    this.rarity = rarity;\r\n    this.requiresAttunement = requiresAttunement;\r\n    this.description = description;\r\n    this.materials = materials;\r\n    this.type = type;\r\n    this.materialGrouping = materialGrouping;\r\n    this.attunementNote = attunementNote;\r\n  }\r\n\r\n  get id() {\r\n    return this.name.toLowerCase().replace(/\\s+/g, \"_\");\r\n  }\r\n}\r\n","export class HarvestedItem {\r\n  static fromOld(oldItem) {\r\n    return new HarvestedItem({\r\n      name: oldItem.Name,\r\n      value: oldItem.ValueGP,\r\n      weight: oldItem.WeightLB,\r\n      craftingUsage: oldItem.CraftingUsage,\r\n      description: oldItem.Description,\r\n      useText: oldItem.UseText,\r\n      requiredToolNames: oldItem.RequiredToolNames,\r\n    });\r\n  }\r\n\r\n  constructor({\r\n    name,\r\n    value,\r\n    weight,\r\n    craftingUsage,\r\n    description,\r\n    useText,\r\n    requiredToolNames,\r\n  }) {\r\n    this.name = name;\r\n    this.value = value;\r\n    this.weight = weight;\r\n    this.craftingUsage = craftingUsage;\r\n    this.description = description;\r\n    this.useText = useText;\r\n    this.requiredToolNames = requiredToolNames;\r\n  }\r\n\r\n  get id() {\r\n    return this.name.replace(/\\s+/gi, \"_\").replace(/\\//gi, \"-\").toLowerCase();\r\n  }\r\n}\r\n","import Data from \"../data/system-state.json\";\r\nimport Index from \"../data/bestiary/index.json\";\r\nimport { Monster } from \"../data/Monster\";\r\nimport { HarvestingTable } from \"../data/HarvestingTable\";\r\nimport { TrinketTable } from \"../data/TrinketTable\";\r\nimport { CraftableItem } from \"../data/CraftableItem\";\r\nimport { HarvestedItem } from \"../data/HarvestedItem\";\r\n\r\nconst $ = window.$;\r\n\r\nasync function ajaxJson(fileName) {\r\n  return new Promise((resolve, reject) => {\r\n    $.getJSON(`data/bestiary/${fileName}`, (data) => {\r\n      resolve(data);\r\n    });\r\n  });\r\n}\r\n\r\nasync function Load5eMonsterFile({ key, fileName }) {\r\n  let localKey = key;\r\n\r\n  // check if already processed or already being processed\r\n  if (Storage.processedKeys.includes(localKey.toLowerCase())) {\r\n    console.log(`[${localKey}] already done.`);\r\n    return;\r\n  } else if (Storage.processingKeys.includes(localKey.toLowerCase())) {\r\n    console.log(`[${localKey}] being processed.`);\r\n    return;\r\n  }\r\n\r\n  Storage.processingKeys.push(localKey.toLowerCase());\r\n\r\n  console.log(`Starting on key[${localKey.toLowerCase()}]`);\r\n\r\n  var data = await ajaxJson(fileName);\r\n  if (data._meta) {\r\n    var meta = data._meta;\r\n    // await for any dependencies to be loaded in\r\n    if (meta.dependencies && meta.dependencies.monster) {\r\n      for (let jdx = 0; jdx < meta.dependencies.monster.length; ++jdx) {\r\n        var depKey = meta.dependencies.monster[jdx];\r\n        console.log(\r\n          `Starting on key[${depKey.toLowerCase()}] required as a dependency of [${localKey.toLowerCase()}]`\r\n        );\r\n        await Load5eMonsterFile({\r\n          key: depKey,\r\n          fileName: `bestiary-${depKey.toLowerCase()}.json`,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  for (let idx = 0; idx < data.monster.length; ++idx) {\r\n    let mon = data.monster[idx];\r\n\r\n    if (mon._copy) {\r\n      // console.log(\r\n      //   `For now, skipping _copy prop monsters ... on ${mon.name}`\r\n      // );\r\n      continue;\r\n    }\r\n\r\n    try {\r\n      mon = Monster.from5eSource(mon);\r\n\r\n      if (!Storage.monsterDict[mon.id]) {\r\n        Storage.monsterDict[mon.id] = mon;\r\n      }\r\n    } catch (err) {\r\n      console.error(\r\n        `Loading on monster: ${mon.name} in file: ${fileName} failed.`\r\n      );\r\n    }\r\n  }\r\n\r\n  console.log(`${localKey} processed.`);\r\n  Storage.processedKeys.push(localKey.toLowerCase());\r\n}\r\n\r\n// let initialised = false;\r\nconst Storage = {\r\n  _init: false,\r\n\r\n  // dictionaries\r\n  monsterDict: {},\r\n  subStateMonsterDict: {},\r\n  harvestingTableDict: {},\r\n  harvestableItemDict: {},\r\n  trinketTableDict: {},\r\n  craftableItemDict: {},\r\n\r\n  processingKeys: [],\r\n  processedKeys: [],\r\n\r\n  Init: async () => {\r\n    if (Storage._init) {\r\n      console.log(\"Storage already initialised\");\r\n      return;\r\n    }\r\n\r\n    for (let key in Index) {\r\n      console.log(`${key} :: ${Index[key]}`);\r\n\r\n      await Load5eMonsterFile({ key: key, fileName: Index[key] });\r\n    }\r\n\r\n    for (let idx = 0; idx < Data.monsters.length; ++idx) {\r\n      let monster = new SubStateMonster(Data.monsters[idx]);\r\n      Storage.subStateMonsterDict[monster.id] = monster;\r\n    }\r\n\r\n    for (let idx = 0; idx < Data.harvestingTables.length; ++idx) {\r\n      let harvestingTable = new HarvestingTable(Data.harvestingTables[idx]);\r\n      Storage.harvestingTableDict[harvestingTable.name] = harvestingTable;\r\n    }\r\n\r\n    for (let idx = 0; idx < Data.harvestedItems.length; ++idx) {\r\n      let harvestedItem = new HarvestedItem(Data.harvestedItems[idx]);\r\n      Storage.harvestableItemDict[harvestedItem.id] = harvestedItem;\r\n    }\r\n\r\n    for (let idx = 0; idx < Data.trinketTables.length; ++idx) {\r\n      let trinketTable = new TrinketTable(Data.trinketTables[idx]);\r\n      Storage.trinketTableDict[trinketTable.trinketTableType] = trinketTable;\r\n    }\r\n\r\n    for (let idx = 0; idx < Data.craftableItems.length; ++idx) {\r\n      let craftableItem = new CraftableItem(Data.craftableItems[idx]);\r\n      Storage.craftableItemDict[craftableItem.id] = craftableItem;\r\n    }\r\n\r\n    Storage._init = true;\r\n  },\r\n};\r\n\r\nwindow.storage = Storage;\r\nexport default Storage;\r\n\r\nclass SubStateMonster {\r\n  constructor({\r\n    name,\r\n    cardSize,\r\n    source,\r\n    trinketTableType,\r\n    harvestingTableGroup,\r\n  }) {\r\n    this.name = name;\r\n    this.cardSize = cardSize;\r\n    this.source = source;\r\n    this.trinketTableType = trinketTableType;\r\n    this.harvestingTableGroup = harvestingTableGroup;\r\n  }\r\n\r\n  get id() {\r\n    return (\r\n      this.name.replace(/[\\s'\\-()]/g, \"\") +\r\n      \"_\" +\r\n      this.source\r\n    ).toLowerCase();\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Container, Col, Row, Form } from \"react-bootstrap\";\r\n\r\nexport function getItemReferenceFromName(name) {\r\n  return name.replace(/\\s+/gi, \"_\").replace(/\\//gi, \"-\").toLowerCase();\r\n}\r\n\r\nexport function getItemReference(harvestedItem) {\r\n  return harvestedItem.id;\r\n}\r\n\r\nfunction simplePassthrough(val) {\r\n  return val;\r\n}\r\n\r\nconst ARRAY_CONC = \";;\";\r\nfunction joinArray(val) {\r\n  return val.join(ARRAY_CONC);\r\n}\r\nfunction splitArray(val) {\r\n  return val.split(ARRAY_CONC);\r\n}\r\n\r\nexport function HarvestedItemDisplay(props) {\r\n  let hItem = props.harvestedItem;\r\n\r\n  return (\r\n    <>\r\n      {/* {JSON.stringify(hItem)} */}\r\n      {/* <Row>\r\n                <Col className=\"col-3 font-weight-bold\">ReferenceId:</Col>\r\n                <Col>{hItem.ReferenceId}</Col>\r\n            </Row> */}\r\n      <Row>\r\n        <Col className=\"col-3 font-weight-bold\">Name:</Col>\r\n        <Col>{hItem.name}</Col>\r\n      </Row>\r\n      <Row>\r\n        <Col className=\"col-3 font-weight-bold\">Value:</Col>\r\n        <Col>{hItem.value}</Col>\r\n      </Row>\r\n      <Row>\r\n        <Col className=\"col-3 font-weight-bold\">Weight:</Col>\r\n        <Col>{hItem.weight}</Col>\r\n      </Row>\r\n      <Row>\r\n        <Col className=\"col-3 font-weight-bold\">Required Tools:</Col>\r\n        <Col>\r\n          {hItem.requiredToolNames.length === 0\r\n            ? \"-\"\r\n            : hItem.requiredToolNames.join(\" and \")}\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col className=\"col-3 font-weight-bold\">CraftingUsage:</Col>\r\n        <Col>\r\n          {hItem.craftingUsage.length === 0\r\n            ? \"-\"\r\n            : hItem.craftingUsage.join(\" and \")}\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col className=\"col-3 font-weight-bold\">Description:</Col>\r\n        <Col>\r\n          {hItem.description.map((para, idx) => {\r\n            return <p key={idx}>{para}</p>;\r\n          })}\r\n        </Col>\r\n      </Row>\r\n      {hItem.useText.length !== 0 && (\r\n        <Row>\r\n          <Col className=\"col-3 font-weight-bold\">UseText:</Col>\r\n          <Col>\r\n            {hItem.useText.map((para, idx) => {\r\n              return <p key={idx}>{para}</p>;\r\n            })}\r\n          </Col>\r\n        </Row>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport class EditingHarvestedItemDisplay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.stringKeys = [\r\n      {\r\n        key: \"id\",\r\n        type: \"text\",\r\n        retrieve: simplePassthrough,\r\n        store: simplePassthrough,\r\n      },\r\n      {\r\n        key: \"name\",\r\n        type: \"text\",\r\n        retrieve: simplePassthrough,\r\n        store: simplePassthrough,\r\n      },\r\n      {\r\n        key: \"value\",\r\n        type: \"text\",\r\n        retrieve: simplePassthrough,\r\n        store: simplePassthrough,\r\n      },\r\n      {\r\n        key: \"weight\",\r\n        type: \"text\",\r\n        retrieve: simplePassthrough,\r\n        store: simplePassthrough,\r\n      },\r\n      {\r\n        key: \"craftingUsage\",\r\n        type: \"text\",\r\n        retrieve: joinArray,\r\n        store: splitArray,\r\n      },\r\n      {\r\n        key: \"requiredToolNames\",\r\n        type: \"text\",\r\n        retrieve: joinArray,\r\n        store: splitArray,\r\n      },\r\n      {\r\n        key: \"description\",\r\n        type: \"text\",\r\n        retrieve: joinArray,\r\n        store: splitArray,\r\n      },\r\n      {\r\n        key: \"useText\",\r\n        type: \"text\",\r\n        retrieve: joinArray,\r\n        store: splitArray,\r\n      },\r\n    ];\r\n\r\n    this.state = this.generateStateObject(this.props.harvestedItem);\r\n\r\n    this.applyStateToItem = this.applyStateToItem.bind(this);\r\n  }\r\n\r\n  generateStateObject(harvestedItem) {\r\n    let obj = {};\r\n    for (let i = 0; i < this.stringKeys.length; ++i) {\r\n      let targetValue = harvestedItem[this.stringKeys[i].key];\r\n\r\n      obj[this.stringKeys[i].key] = this.stringKeys[i].retrieve(targetValue);\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  handleInput(event, key) {\r\n    event.preventDefault();\r\n\r\n    console.log(`${key}: ${event.target.value}`);\r\n\r\n    let partialObject = {};\r\n    partialObject[key] = event.target.value;\r\n    this.setState(partialObject);\r\n  }\r\n\r\n  applyStateToItem(event) {\r\n    event.preventDefault();\r\n    console.log(\"applyStateToItem\");\r\n\r\n    for (let i = 0; i < this.stringKeys.length; ++i) {\r\n      let targetValue = this.state[this.stringKeys[i].key];\r\n\r\n      this.props.harvestedItem[this.stringKeys[i].key] = this.stringKeys[\r\n        i\r\n      ].store(targetValue);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      this.props.harvestedItem.ReferenceId !==\r\n      prevProps.harvestedItem.ReferenceId\r\n    ) {\r\n      this.setState(this.generateStateObject(this.props.harvestedItem));\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    let partialObject = {};\r\n    for (let i = 0; i < this.stringKeys.length; ++i) {\r\n      partialObject[this.stringKeys[i]] = \"\";\r\n    }\r\n    this.setState(partialObject);\r\n  }\r\n\r\n  render() {\r\n    let output = [];\r\n\r\n    for (let i = 0; i < this.stringKeys.length; ++i) {\r\n      let key = this.stringKeys[i];\r\n      output.push(\r\n        <Row key={output.length}>\r\n          <Col className=\"col-3 font-weight-bold\">{key.key}: </Col>\r\n          <Col className=\"border\">\r\n            <input\r\n              type={key.type}\r\n              value={this.state[key.key]}\r\n              style={{ width: \"inherit\" }}\r\n              onChange={(e) => {\r\n                e.preventDefault();\r\n                this.handleInput(e, key.key);\r\n              }}\r\n              disabled={key.key === \"ReferenceId\"}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Container fluid>\r\n        <Form onSubmit={this.applyStateToItem}>\r\n          {output}\r\n          <input type=\"submit\" value=\"Apply Changes\" />\r\n        </Form>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { matchPath } from \"react-router\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\nimport { DisplayList, DisplayColumn } from \"./DisplayList\";\r\nimport { HarvestedItemFilterBlock } from \"../components/HarvestedItemFilterBlock\";\r\nimport { sortAscending as sortStrAsc } from \"../utility/stringUtil\";\r\nimport Storage from \"../utility/StorageUtil\";\r\nimport {\r\n  EditingHarvestedItemDisplay,\r\n  HarvestedItemDisplay,\r\n  getItemReference,\r\n} from \"../utility/harvestedItemUtil\";\r\n\r\nexport function HarvestedItems(props) {\r\n  let [filterObj, setFilterObj] = useState({});\r\n\r\n  const pathWithId = \"/harvesteditems/:id\";\r\n  let harvestedItem = null;\r\n\r\n  // extract monster id from the path\r\n  let match = matchPath(props.location.pathname, { path: pathWithId });\r\n  let selectedId = \"\";\r\n  if (match !== null) {\r\n    // if there is an id, search for the monster\r\n    selectedId = match.params.id;\r\n    if (Storage.harvestableItemDict[selectedId] !== undefined) {\r\n      harvestedItem = Storage.harvestableItemDict[selectedId];\r\n    }\r\n  }\r\n\r\n  const headers = [\r\n    new DisplayColumn(\r\n      \"Name\",\r\n      (item) => {\r\n        return <>{item[\"name\"]}</>;\r\n      },\r\n      (a, b) => {\r\n        return sortStrAsc(a.name, b.name);\r\n      }\r\n    ),\r\n  ];\r\n\r\n  let harvestedOutput = [\"Select an item from the list\"];\r\n\r\n  if (harvestedItem !== null) {\r\n    if (false && process.env.NODE_ENV === \"development\") {\r\n      harvestedOutput = [\r\n        <EditingHarvestedItemDisplay harvestedItem={harvestedItem} />,\r\n      ];\r\n    } else {\r\n      harvestedOutput = [\r\n        <HarvestedItemDisplay harvestedItem={harvestedItem} />,\r\n      ];\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Row className=\"h-100\" xs={1} md={2}>\r\n        <Col className=\"border h-100\">\r\n          <HarvestedItemFilterBlock submitFilter={setFilterObj} />\r\n          <DisplayList\r\n            headers={headers}\r\n            items={Object.values(Storage.harvestableItemDict)}\r\n            filterObject={filterObj}\r\n            pathRoot={props.match.path}\r\n            idFunction={getItemReference}\r\n            selectedId={selectedId}\r\n          />\r\n        </Col>\r\n        <Col className=\"border scrollableColumn\">{harvestedOutput}</Col>\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { fileSaveAs } from \"../utility/saveFile\";\r\nimport Storage from \"../utility/StorageUtil\";\r\nimport { sortAscending } from \"../utility/stringUtil\";\r\n\r\nexport function Home(props) {\r\n  return (\r\n    <div>\r\n      <h1>Home</h1>\r\n      <div>\r\n        <button\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n\r\n            let monsters = Object.values(Storage.subStateMonsterDict);\r\n            monsters.sort((a, b) => sortAscending(a.id, b.id));\r\n\r\n            let harvestedItems = Object.values(Storage.harvestableItemDict);\r\n            harvestedItems.sort((a, b) => sortAscending(a.id, b.id));\r\n\r\n            let harvestingTables = Object.values(Storage.harvestingTableDict);\r\n            harvestingTables.sort((a, b) => sortAscending(a.name, b.name));\r\n\r\n            let trinketTables = Object.values(Storage.trinketTableDict);\r\n            trinketTables.sort((a, b) =>\r\n              sortAscending(a.trinketTableType, b.trinketTableType)\r\n            );\r\n\r\n            let craftableItems = Object.values(Storage.craftableItemDict);\r\n            craftableItems.sort((a, b) => sortAscending(a.id, b.id));\r\n\r\n            fileSaveAs(\r\n              \"system-state.json\",\r\n              JSON.stringify({\r\n                monsters: monsters,\r\n                harvestingTables: harvestingTables,\r\n                harvestedItems: harvestedItems,\r\n                trinketTables: trinketTables,\r\n                craftableItems: craftableItems,\r\n              })\r\n            );\r\n          }}\r\n        >\r\n          Save State\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <input type=\"text\" style={{ width: \"100%\", height: \"4em\" }} />\r\n      </div>\r\n      {/* <div>{JSON.stringify(props)}</div> */}\r\n      {/* <div>{JSON.stringify(process.env)}</div> */}\r\n    </div>\r\n  );\r\n}\r\n","export function fileSaveAs(filename, fileContent) {\r\n    var link = document.createElement(\"a\");\r\n    link.download = filename;\r\n    link.href =\r\n        \"data:text/plain;charset=utf-8,\" + encodeURIComponent(fileContent);\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n}\r\n","import React from \"react\";\r\n\r\nexport function CRList(props) {\r\n  let cr = props.cr;\r\n\r\n  if (!cr) {\r\n    return <>-</>;\r\n  } else {\r\n    let crOut = cr.cr;\r\n\r\n    if (typeof crOut === \"number\" && crOut < 1 && crOut !== 0) {\r\n      crOut = `1/${1 / crOut}`;\r\n    }\r\n\r\n    if (cr.coven !== null) {\r\n      crOut += ` (${cr.coven} in coven)`;\r\n    }\r\n\r\n    if (cr.lair !== null) {\r\n      crOut += ` (${cr.lair} in lair)`;\r\n    }\r\n\r\n    return <>{crOut}</>;\r\n  }\r\n}\r\n","export const CARD_SIZES = [\"None\", \"Small\", \"Medium\", \"Large\"];\r\n","import React from \"react\";\r\nimport { sortAscending as sortStrAsc } from \"../utility/stringUtil\";\r\n\r\nconst SWARM_REGEX = /swarm:(\\w)/i;\r\n\r\nexport function CreatureTypeList(props) {\r\n  return <>{getCreatureTypeDisplayString(props.creatureType)}</>;\r\n}\r\n\r\nexport function getCreatureTypeDisplayString(creatureType) {\r\n  let cType = creatureType;\r\n\r\n  if (!cType) {\r\n    return \"-\";\r\n  } else {\r\n    let crOut = \"\";\r\n\r\n    let matches = SWARM_REGEX.exec(cType.tags.toString());\r\n    if (matches !== null && matches.length > 0) {\r\n      let size = \"\";\r\n      switch (matches[1]) {\r\n        case \"T\":\r\n          size = \"tiny\";\r\n          break;\r\n        case \"M\":\r\n          size = \"medium\";\r\n          break;\r\n        default:\r\n          size = \"[unknown size]\";\r\n          break;\r\n      }\r\n      crOut = `swarm of ${size} ${cType.type}s`;\r\n    } else {\r\n      crOut = cType.type;\r\n\r\n      if (cType.tags.length !== 0) {\r\n        crOut += ` (${cType.tags.join(\", \")})`;\r\n      }\r\n    }\r\n\r\n    return crOut;\r\n  }\r\n}\r\n\r\nexport function sortCreatureTypeAsc(a, b) {\r\n  let outVal = sortStrAsc(a.type, b.type);\r\n\r\n  if (outVal !== 0) {\r\n    return outVal;\r\n  }\r\n\r\n  outVal = a.tags.length - b.tags.length;\r\n\r\n  if (outVal !== 0) {\r\n    return outVal;\r\n  }\r\n\r\n  for (let i = 0; i < a.tags.length; ++i) {\r\n    outVal = sortStrAsc(a.tags[i], b.tags[i]);\r\n\r\n    if (outVal !== 0) {\r\n      return outVal;\r\n    }\r\n  }\r\n\r\n  return 0;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\nimport { getCreatureTypeDisplayString } from \"../utility/creatureTypeUtil\";\r\nimport { CARD_SIZES } from \"../data/referenceCardSizes\";\r\n\r\nfunction BlockRow_Text(key, label, value, setter) {\r\n  return (\r\n    <Row key={key}>\r\n      <Col className=\"col-3\">{label}:</Col>\r\n      <Col>\r\n        <input\r\n          type=\"text\"\r\n          value={value}\r\n          style={{\r\n            width: \"inherit\",\r\n          }}\r\n          onChange={(e) => {\r\n            e.preventDefault();\r\n            setter(e.target.value);\r\n          }}\r\n        />\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nfunction BlockRow_Select(key, label, value, setter, selectOpts, optLabels) {\r\n  return (\r\n    <Row key={key}>\r\n      <Col className=\"col-3\">{label}:</Col>\r\n      <Col>\r\n        <select\r\n          value={value}\r\n          style={{\r\n            width: \"inherit\",\r\n          }}\r\n          onChange={(e) => {\r\n            e.preventDefault();\r\n            setter(e.target.value);\r\n          }}\r\n        >\r\n          <option value={null}>Ignore</option>\r\n          {selectOpts.map((opt, idx) => {\r\n            return (\r\n              <option key={idx} value={opt}>\r\n                {optLabels[opt]}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport function MonsterFilterBlock(props) {\r\n  let [nameField, setNameField] = useState(\"\");\r\n  let [typeField, setTypeField] = useState(\"\");\r\n  let [cardSizeField, setCardSizeField] = useState();\r\n\r\n  let filterRows = [];\r\n\r\n  filterRows.push(\r\n    BlockRow_Text(filterRows.length, \"Name\", nameField, setNameField)\r\n  );\r\n  filterRows.push(\r\n    BlockRow_Text(filterRows.length, \"Creature Type\", typeField, setTypeField)\r\n  );\r\n  filterRows.push(\r\n    BlockRow_Select(\r\n      filterRows.length,\r\n      \"Card Size\",\r\n      cardSizeField,\r\n      setCardSizeField,\r\n      [0, 1, 2, 3],\r\n      CARD_SIZES\r\n    )\r\n  );\r\n\r\n  // TODO: add option to filter by having (or not) harvesting/trinket tables\r\n\r\n  const submitFunc = (e) => {\r\n    let obj = {};\r\n    if (nameField !== \"\") {\r\n      obj.Name = (obj) => {\r\n        return obj.name.toLowerCase().match(nameField.toLowerCase());\r\n      };\r\n    }\r\n    if (typeField !== \"\") {\r\n      obj.Type = (obj) => {\r\n        let crString = getCreatureTypeDisplayString(obj.type);\r\n        return crString.toLowerCase().match(typeField.toLowerCase());\r\n      };\r\n    }\r\n    if (cardSizeField >= 0) {\r\n      obj.CardSize = (obj) => {\r\n        return obj.ReferenceCardSize === Number(cardSizeField);\r\n      };\r\n    }\r\n\r\n    props.submitFilter(obj);\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <form id=\"filter\" className=\"border\" onSubmit={submitFunc}>\r\n      {filterRows}\r\n      <button type=\"submit\">Apply Filter</button>\r\n    </form>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { matchPath } from \"react-router\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\nimport { DisplayList, DisplayColumn } from \"./DisplayList\";\r\nimport { CRList } from \"../components/ChallengeRatingDisplay\";\r\nimport Storage from \"../utility/StorageUtil\";\r\n// import { getIdFromMonster } from \"../utility/monsterUtil\";\r\nimport { sortAscending as sortStrAsc } from \"../utility/stringUtil\";\r\nimport { sortAscending as sortCRAsc } from \"../utility/challengeRatingUtil\";\r\n// import { MonsterDisplay } from \"../components/MonsterDisplay\";\r\n\r\nimport { CARD_SIZES } from \"../data/referenceCardSizes\";\r\nimport {\r\n  CreatureTypeList,\r\n  sortCreatureTypeAsc,\r\n} from \"../utility/creatureTypeUtil\";\r\nimport { MonsterFilterBlock } from \"../components/MonsterFilterBlock\";\r\nimport \"./Columnable.css\";\r\nimport \"../LayoutControl/Layout.css\";\r\n\r\nexport function Monsters(props) {\r\n  let [filterObj, setFilterObj] = useState({});\r\n\r\n  const pathWithId = \"/monsters/:id\";\r\n  //let monster = null;\r\n\r\n  // extract monster id from the path\r\n  let match = matchPath(props.location.pathname, { path: pathWithId });\r\n  let selectedId = \"\";\r\n  if (match !== null) {\r\n    // if there is an id, search for the monster\r\n    selectedId = match.params.id;\r\n    if (Storage.monsterDict[selectedId] !== undefined) {\r\n      // monster = Storage.monsterDict[selectedId];\r\n    }\r\n  }\r\n\r\n  const headers = [\r\n    new DisplayColumn(\r\n      \"Name\",\r\n      (item) => {\r\n        return <>{item[\"name\"]}</>;\r\n      },\r\n      (a, b) => {\r\n        return sortStrAsc(a.name, b.name);\r\n      }\r\n    ),\r\n    new DisplayColumn(\r\n      \"Type\",\r\n      (item) => {\r\n        return <CreatureTypeList creatureType={item[\"type\"]} />;\r\n      },\r\n      (a, b) => {\r\n        return sortCreatureTypeAsc(a.creatureType, b.creatureType);\r\n      }\r\n    ),\r\n    new DisplayColumn(\r\n      \"CR\",\r\n      (item) => {\r\n        return <CRList cr={item[\"challengeRating\"]} />;\r\n      },\r\n      (a, b) => {\r\n        return sortCRAsc(a.challengeRating, b.challengeRating);\r\n      }\r\n    ),\r\n    new DisplayColumn(\r\n      \"Card Size\",\r\n      (item) => {\r\n        var subMon = Storage.subStateMonsterDict[item.id];\r\n        return <>{subMon ? CARD_SIZES[subMon.cardSize] : \"-\"}</>;\r\n      },\r\n      (a, b) => {\r\n        var subMonA = Storage.subStateMonsterDict[a.id];\r\n        var subMonB = Storage.subStateMonsterDict[b.id];\r\n\r\n        if (subMonA && subMonB) {\r\n          return subMonA.cardSize - subMonB.cardSize;\r\n        } else if (subMonA && !subMonB) {\r\n          return -1;\r\n        } else if (!subMonA && subMonB) {\r\n          return 1;\r\n        } else {\r\n          // TODO: Fix this\r\n          return -1;\r\n        }\r\n      }\r\n    ),\r\n    new DisplayColumn(\r\n      \"Source\",\r\n      (item) => {\r\n        return <>{item[\"source\"]}</>;\r\n      },\r\n      (a, b) => {\r\n        return sortStrAsc(a.source, b.source);\r\n      }\r\n    ),\r\n  ];\r\n\r\n  let list = Object.values(Storage.monsterDict);\r\n\r\n  return (\r\n    <>\r\n      <Row className=\"h-100\" xs={1} md={2}>\r\n        <Col className=\"border h-100\">\r\n          <MonsterFilterBlock submitFilter={setFilterObj} />\r\n          <DisplayList\r\n            headers={headers}\r\n            items={list}\r\n            filterObject={filterObj}\r\n            pathRoot={props.match.path}\r\n            idFunction={(mon) => mon.id}\r\n            selectedId={selectedId}\r\n          />\r\n        </Col>\r\n        <Col className=\"border scrollableColumn\">\r\n          {/* <MonsterDisplay monster={monster} selectedId={selectedId} /> */}\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport function CRList(props) {\r\n  return <>{getChallengeRatingDisplayString(props.cr)}</>;\r\n}\r\n\r\nexport function getChallengeRatingDisplayString(challengeRating) {\r\n  let cr = challengeRating;\r\n\r\n  if (!cr) {\r\n    return \"-\";\r\n  } else {\r\n    let crOut = cr.cr;\r\n\r\n    if (typeof crOut === \"number\" && crOut < 1 && crOut !== 0) {\r\n      crOut = `1/${1 / crOut}`;\r\n    }\r\n\r\n    if (cr.coven !== null) {\r\n      crOut += ` (${cr.coven} in coven)`;\r\n    }\r\n\r\n    if (cr.lair !== null) {\r\n      crOut += ` (${cr.lair} in lair)`;\r\n    }\r\n\r\n    return crOut;\r\n  }\r\n}\r\n\r\nexport function sortAscending(a, b) {\r\n  if (a === null) return -1;\r\n  if (b === null) return 1;\r\n\r\n  let out = a.cr - b.cr;\r\n\r\n  if (out !== 0) {\r\n    return out;\r\n  }\r\n\r\n  out = a.InLair - b.InLair;\r\n\r\n  if (out !== 0) {\r\n    return out;\r\n  }\r\n\r\n  out = a.InCoven - b.InCoven;\r\n\r\n  return out;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\n\r\nexport function ArrayInput(props) {\r\n  let [redraw, setRedraw] = useState(true);\r\n  let propObj = props.object;\r\n  let propKey = props.objKey;\r\n  let defaultInsert = props.defaultInsert;\r\n  if (defaultInsert === undefined) defaultInsert = \"\";\r\n\r\n  const addLine = (e) => {\r\n    propObj[propKey].push(defaultInsert);\r\n    setRedraw(!redraw);\r\n  };\r\n  const insertLine = (e, tarIndex) => {\r\n    propObj[propKey].splice(tarIndex, 0, defaultInsert);\r\n    setRedraw(!redraw);\r\n  };\r\n\r\n  const removeLine = (e, idx) => {\r\n    propObj[propKey].splice(idx, 1);\r\n    setRedraw(!redraw);\r\n  };\r\n\r\n  let arrayLines = [];\r\n  for (let i = 0; i < propObj[propKey].length; ++i) {\r\n    arrayLines.push(\r\n      <Row key={i}>\r\n        <Col className=\"col-2 border\">\r\n          <button\r\n            onClick={(e) => {\r\n              insertLine(e, i);\r\n            }}\r\n            // disabled={i === 0}\r\n          >\r\n            ^\r\n          </button>\r\n          <button\r\n            onClick={(e) => {\r\n              removeLine(e, i);\r\n            }}\r\n          >\r\n            -\r\n          </button>\r\n          <button\r\n            onClick={(e) => {\r\n              insertLine(e, i + 1);\r\n            }}\r\n            // disabled={i === propObj[propKey].length - 1}\r\n          >\r\n            v\r\n          </button>\r\n        </Col>\r\n        <Col>\r\n          <props.subType\r\n            object={propObj}\r\n            objKey={propKey}\r\n            index={i}\r\n            hideLabel={true}\r\n          />\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col className=\"col-3\">\r\n          {propKey}: <button onClick={addLine}>+</button>\r\n        </Col>\r\n      </Row>\r\n\r\n      {arrayLines}\r\n    </>\r\n  );\r\n}\r\n\r\nexport function SelectInput(props) {\r\n  let [redraw, setRedraw] = useState(true);\r\n  let propObj = props.object;\r\n  let propKey = props.objKey;\r\n\r\n  const onChangeFunc = (e) => {\r\n    propObj[propKey] = e.target.value;\r\n    setRedraw(!redraw);\r\n  };\r\n\r\n  let options = props.options.map((opt, idx) => {\r\n    return (\r\n      <option value={opt} key={idx}>\r\n        {opt}\r\n      </option>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col className=\"col-3\">{propKey}: </Col>{\" \"}\r\n        <Col>\r\n          <select\r\n            style={{ width: \"inherit\" }}\r\n            value={propObj[propKey]}\r\n            onChange={onChangeFunc}\r\n          >\r\n            {options}\r\n          </select>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\n\r\nexport function RadioButtonInput(props) {\r\n  let [redraw, setRedraw] = useState(true);\r\n  let propObj = props.object;\r\n  let propKey = props.objKey;\r\n\r\n  const onChangeFunc = (e) => {\r\n    if (e.target.checked) {\r\n      propObj[propKey] = e.target.value;\r\n      setRedraw(!redraw);\r\n    }\r\n  };\r\n\r\n  let options = props.options.map((opt, idx) => {\r\n    return (\r\n      <div>\r\n        <input\r\n          type=\"radio\"\r\n          value={opt}\r\n          key={idx}\r\n          name={propKey}\r\n          id={opt}\r\n          checked={propObj[propKey] === opt}\r\n          onChange={onChangeFunc}\r\n        />{\" \"}\r\n        <label for={opt}>{opt}</label>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Row className=\"border\">\r\n        <Col className=\"col-3\">{propKey}: </Col> <Col>{options}</Col>\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\n\r\nexport function StringInput(props) {\r\n  let [redraw, setRedraw] = useState(true);\r\n  let propObj = props.object;\r\n  let propKey = props.objKey;\r\n  let propIdx = props.index;\r\n\r\n  let {\r\n    disabled,\r\n    hideLabel, //, ...otherProps\r\n  } = props;\r\n\r\n  const onChangeFunc = (e) => {\r\n    if (propIdx !== undefined) {\r\n      propObj[propKey][propIdx] = e.target.value;\r\n    } else {\r\n      propObj[propKey] = e.target.value;\r\n    }\r\n    setRedraw(!redraw);\r\n  };\r\n\r\n  let value = propObj[propKey];\r\n  if (propIdx !== undefined) {\r\n    value = propObj[propKey][propIdx];\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        {!hideLabel && <Col className=\"col-3\">{propKey}: </Col>}\r\n        <Col>\r\n          <input\r\n            type=\"text\"\r\n            style={{ width: \"inherit\" }}\r\n            value={value}\r\n            onChange={onChangeFunc}\r\n            disabled={disabled}\r\n          />\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\n\r\nexport function CheckboxInput(props) {\r\n  let [redraw, setRedraw] = useState(true);\r\n  let propObj = props.object;\r\n  let propKey = props.objKey;\r\n\r\n  const onChangeFunc = (e) => {\r\n    propObj[propKey] = e.target.checked;\r\n    setRedraw(!redraw);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col className=\"col-3\">{propKey}: </Col>{\" \"}\r\n        <Col>\r\n          <input\r\n            type=\"checkbox\"\r\n            style={{ width: \"inherit\" }}\r\n            onChange={onChangeFunc}\r\n            checked={propObj[propKey] ? \"checked\" : \"\"}\r\n          />\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport function ModularDescription(props) {\r\n  let desc = props.description;\r\n\r\n  if (typeof desc === \"string\") {\r\n    return <SimpleDescription description={desc} />;\r\n  } else {\r\n    if (!desc.type) return <>ERROR on: {JSON.stringify(desc)}</>;\r\n    switch (desc.type) {\r\n      case \"list\":\r\n        let style = desc.style;\r\n        return (\r\n          <ListDescription items={desc.lines || desc.items} style={style} />\r\n        );\r\n      case \"item\":\r\n        return <ItemDescription description={desc} />;\r\n      default:\r\n        return <UnhandledDescription description={desc} />;\r\n    }\r\n  }\r\n}\r\n\r\nfunction SimpleDescription(props) {\r\n  return <p>{props.description}</p>;\r\n}\r\n\r\nfunction ItemDescription(props) {\r\n  return (\r\n    <p>\r\n      <b>{props.description.name}</b> {props.description.entry}\r\n    </p>\r\n  );\r\n}\r\n\r\nfunction UnhandledDescription(props) {\r\n  return <p>{JSON.stringify(props.description)}</p>;\r\n}\r\n\r\nfunction ListDescription(props) {\r\n  let output = [];\r\n\r\n  for (let i = 0; i < props.items.length; ++i) {\r\n    output.push(\r\n      <li key={i}>\r\n        <ModularDescription description={props.items[i]} />\r\n      </li>\r\n    );\r\n  }\r\n\r\n  let styleObj = {};\r\n  if (props.style) {\r\n    styleObj.listStyle = props.style;\r\n  }\r\n\r\n  return <ul style={styleObj}>{output}</ul>;\r\n}\r\n","import React from \"react\";\r\nimport { Container, Col, Row } from \"react-bootstrap\";\r\nimport {\r\n  StringInput,\r\n  CheckboxInput,\r\n  SelectInput,\r\n  ArrayInput,\r\n  RadioButtonInput,\r\n} from \"./inputUtil\";\r\nimport Storage from \"./StorageUtil\";\r\nimport { ModularDescription } from \"./descriptionUtil\";\r\n\r\nexport function getIdFromItemName(name) {\r\n  return name.toLowerCase().replace(/\\s+/g, \"_\");\r\n}\r\n\r\nexport function getIdFromItem(item) {\r\n  if (item.id !== undefined) return item.id;\r\n  else return getIdFromItemName(item.name);\r\n}\r\n\r\nexport function CraftableItemDisplay(props) {\r\n  let craftableItem = props.craftableItem;\r\n\r\n  let materialOutput = craftableItem.materials.map((mat, idx) => {\r\n    let matItem = Storage.harvestableItemDict[mat.componentId];\r\n\r\n    return (\r\n      <span key={idx}>\r\n        {matItem ? matItem.name : mat.componentId} ({mat.quantity})\r\n      </span>\r\n    );\r\n  });\r\n  let finalMaterialOutput = [];\r\n  for (let i = 0; i < materialOutput.length; ++i) {\r\n    if (finalMaterialOutput.length !== 0) {\r\n      finalMaterialOutput.push(\" \" + craftableItem.materialGrouping + \" \");\r\n    }\r\n    finalMaterialOutput.push(materialOutput[i]);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col className=\"font-weight-bold\">{craftableItem.name}</Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n          <i>\r\n            {craftableItem.type},{\" \"}\r\n            {(craftableItem.rarity !== null\r\n              ? craftableItem.rarity\r\n              : \"\"\r\n            ).toLowerCase()}{\" \"}\r\n            {craftableItem.requiresAttunement && \"(requires attunement)\"}\r\n          </i>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n          <i>\r\n            Crafted by: {finalMaterialOutput} ({craftableItem.crafter})\r\n          </i>\r\n        </Col>\r\n      </Row>\r\n      &nbsp;\r\n      <Row>\r\n        <Col className=\"col-3 font-weight-bold\">Description:</Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n          {craftableItem.description.length > 0 &&\r\n            craftableItem.description.map((para, idx) => {\r\n              return <ModularDescription key={idx} description={para} />;\r\n            })}\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\n\r\nexport class EditingCraftableItemDisplay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = this.generateStateObject(this.props.craftableItem);\r\n    this.applyStateToItem = this.applyStateToItem.bind(this);\r\n  }\r\n\r\n  generateStateObject(craftableItem) {\r\n    let obj = {};\r\n    return obj;\r\n  }\r\n\r\n  handleInput(event, key) {\r\n    event.preventDefault();\r\n\r\n    console.log(`${key}: ${event.target.value}`);\r\n\r\n    let partialObject = {};\r\n    partialObject[key] = event.target.value;\r\n    this.setState(partialObject);\r\n  }\r\n\r\n  applyStateToItem(event) {\r\n    event.preventDefault();\r\n\r\n    for (let i = 0; i < this.stringKeys.length; ++i) {\r\n      let targetValue = this.state[this.stringKeys[i].key];\r\n\r\n      this.props.craftableItem[this.stringKeys[i].key] = this.stringKeys[\r\n        i\r\n      ].store(targetValue);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.craftableItem.Id !== prevProps.craftableItem.Id) {\r\n      this.setState(this.generateStateObject(this.props.craftableItem));\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    let partialObject = {};\r\n    this.setState(partialObject);\r\n  }\r\n\r\n  render() {\r\n    let craftableItem = this.props.craftableItem;\r\n\r\n    return (\r\n      <Container fluid>\r\n        {/* <div>propObj :: {JSON.stringify(craftableItem)}</div> */}\r\n        <StringInput object={craftableItem} objKey=\"Id\" disabled />\r\n        <StringInput object={craftableItem} objKey=\"Name\" />\r\n        <StringInput object={craftableItem} objKey=\"Type\" />\r\n        <Row>\r\n          <Col>\r\n            <CheckboxInput object={craftableItem} objKey=\"RequiresAttunement\" />\r\n          </Col>\r\n          <Col>\r\n            <StringInput\r\n              object={craftableItem}\r\n              objKey=\"AttunementNote\"\r\n              hideLabel={true}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <RadioButtonInput // SelectInput\r\n              object={craftableItem}\r\n              objKey=\"Crafter\"\r\n              options={[\r\n                \"Alchemist\",\r\n                \"Artificer\",\r\n                \"Blacksmith\",\r\n                \"Leatherworker\",\r\n                \"Tinker\",\r\n                \"Thaumaturge\",\r\n              ]}\r\n            />\r\n          </Col>\r\n          <Col>\r\n            <RadioButtonInput //SelectInput\r\n              object={craftableItem}\r\n              objKey=\"Rarity\"\r\n              options={[\r\n                \"Mundane\",\r\n                \"Common\",\r\n                \"Uncommon\",\r\n                \"Rare\",\r\n                \"Very Rare\",\r\n                \"Legendary\",\r\n                \"Mixed\",\r\n              ]}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <ArrayInput\r\n          object={craftableItem}\r\n          objKey=\"Description\"\r\n          subType={StringInput}\r\n        />\r\n        <SelectInput\r\n          object={craftableItem}\r\n          objKey=\"MaterialGrouping\"\r\n          options={[\"OR\", \"AND\"]}\r\n        />\r\n        <ArrayInput\r\n          object={craftableItem}\r\n          objKey=\"Materials\"\r\n          subType={MaterialInput}\r\n          defaultInsert={{ ComponentId: \"\", Quantity: \"\" }}\r\n        />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nfunction MaterialInput(props) {\r\n  //   let [redraw, setRedraw] = useState(true);\r\n  let propObj = props.object;\r\n  let propKey = props.objKey;\r\n  let propIdx = props.index;\r\n\r\n  // const onChangeFunc = (e) => {\r\n  //     if (propIdx !== undefined) {\r\n  //         propObj[propKey][propIdx] = e.target.value;\r\n  //     } else {\r\n  //         propObj[propKey] = e.target.value;\r\n  //     }\r\n  //     setRedraw(!redraw);\r\n  // };\r\n\r\n  return (\r\n    <>\r\n      <StringInput object={propObj[propKey][propIdx]} objKey=\"ComponentId\" />\r\n      <StringInput object={propObj[propKey][propIdx]} objKey=\"Quantity\" />\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { matchPath } from \"react-router\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\nimport { DisplayList, DisplayColumn } from \"./DisplayList\";\r\nimport Storage from \"../utility/StorageUtil\";\r\nimport {\r\n  getIdFromItem,\r\n  CraftableItemDisplay,\r\n  EditingCraftableItemDisplay,\r\n} from \"../utility/craftableItemUtil\";\r\nimport { sortAscending as sortStrAsc } from \"../utility/stringUtil\";\r\n\r\nimport \"./Columnable.css\";\r\nimport \"../LayoutControl/Layout.css\";\r\n\r\nexport function CraftableItems(props) {\r\n  // let [filterObj, setFilterObj] = useState({});\r\n\r\n  const pathWithId = \"/craftableitems/:id\";\r\n  let craftableItem = null;\r\n\r\n  // extract monster id from the path\r\n  let match = matchPath(props.location.pathname, { path: pathWithId });\r\n  let selectedId = \"\";\r\n  if (match !== null) {\r\n    // if there is an id, search for the monster\r\n    selectedId = match.params.id;\r\n    if (Storage.craftableItemDict[selectedId] !== undefined) {\r\n      craftableItem = Storage.craftableItemDict[selectedId];\r\n    }\r\n  }\r\n\r\n  const headers = [\r\n    new DisplayColumn(\r\n      \"Name\",\r\n      (item) => {\r\n        return <>{item[\"name\"]}</>;\r\n      },\r\n      (a, b) => {\r\n        return sortStrAsc(a.name, b.name);\r\n      }\r\n    ),\r\n  ];\r\n\r\n  let displayOutput = [\"Select an item from the list\"];\r\n\r\n  if (craftableItem !== null) {\r\n    if (false && process.env.NODE_ENV === \"development\") {\r\n      displayOutput = [\r\n        <EditingCraftableItemDisplay craftableItem={craftableItem} key={0} />,\r\n      ];\r\n    } else {\r\n      displayOutput = [\r\n        <CraftableItemDisplay craftableItem={craftableItem} key={0} />,\r\n      ];\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Row className=\"h-100\" xs={1} md={2}>\r\n        <Col className=\"border h-100\">\r\n          {/* <MonsterFilterBlock submitFilter={setFilterObj} /> */}\r\n          <DisplayList\r\n            headers={headers}\r\n            items={Object.values(Storage.craftableItemDict)}\r\n            filterObject={{}}\r\n            pathRoot={props.match.path}\r\n            idFunction={getIdFromItem}\r\n            selectedId={selectedId}\r\n          />\r\n        </Col>\r\n        <Col className=\"border scrollableColumn\">{displayOutput}</Col>\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { HarvestedItems } from \"./pages/HarvestedItems\";\r\nimport { Home } from \"./pages/Home\";\r\nimport { Monsters } from \"./pages/Monsters\";\r\nimport { CraftableItems } from \"./pages/CraftableItems\";\r\n\r\nexport const MENU = [\r\n    {\r\n        className: \"text-dark\",\r\n        linkName: \"Home\",\r\n        linkTarget: \"/\",\r\n        routePaths: [\"/\"],\r\n        exact: true,\r\n        renderFunction: (props) => {\r\n            return <Home {...props} />;\r\n        },\r\n    },\r\n    {\r\n        className: \"text-dark\",\r\n        linkName: \"Monsters\",\r\n        linkTarget: \"/monsters\",\r\n        routePaths: [\"/monsters\"],\r\n        exact: false,\r\n        renderFunction: (props) => {\r\n            return <Monsters {...props} />;\r\n        },\r\n    },\r\n    {\r\n        className: \"text-dark\",\r\n        linkName: \"Harvested Items\",\r\n        linkTarget: \"/harvesteditems\",\r\n        routePaths: [\"/harvesteditems\"],\r\n        exact: false,\r\n        renderFunction: (props) => {\r\n            return <HarvestedItems {...props} />;\r\n        },\r\n    },\r\n    {\r\n        className: \"text-dark\",\r\n        linkName: \"Trinket Tables\",\r\n        linkTarget: \"/trinkettables\",\r\n        routePaths: [\"/trinkettables\"],\r\n        exact: false,\r\n        renderFunction: (props) => {\r\n            return <span>Trinket Tables</span>;\r\n        },\r\n    },\r\n    {\r\n        className: \"text-dark\",\r\n        linkName: \"Craftable Items\",\r\n        linkTarget: \"/craftableitems\",\r\n        routePaths: [\"/craftableitems\"],\r\n        exact: false,\r\n        renderFunction: (props) => {\r\n            return <CraftableItems {...props} />;\r\n        },\r\n    },\r\n];\r\n","import React from \"react\";\r\nimport { Container, Navbar } from \"react-bootstrap\";\r\nimport { NavbarBrand, NavItem, NavLink } from \"reactstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { MENU } from \"../navigationConstants\";\r\n\r\nexport function NavMenu(props) {\r\n    let navOutput = [];\r\n    for (let i = 0; i < MENU.length; ++i) {\r\n        let linkDeets = MENU[i];\r\n        navOutput.push(\r\n            <NavItem key={i}>\r\n                <NavLink\r\n                    tag={Link}\r\n                    className={linkDeets.className}\r\n                    to={linkDeets.linkTarget}\r\n                >\r\n                    {linkDeets.linkName}\r\n                </NavLink>\r\n            </NavItem>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <header>\r\n            <Navbar className=\"border-bottom p-0\">\r\n                <Container>\r\n                    <NavbarBrand tag={Link} to=\"/\">\r\n                        Reactive RPG\r\n                    </NavbarBrand>\r\n                    <Container\r\n                        className=\"d-sm-inline-flex flex-sm-row-reverse\"\r\n                        navbar=\"true\"\r\n                    >\r\n                        <ul className=\"navbar-nav flex-grow\">{navOutput}</ul>\r\n                    </Container>\r\n                </Container>\r\n            </Navbar>\r\n        </header>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { NavMenu } from \"./NavMenu\";\r\nimport \"./Layout.css\";\r\n\r\nexport function Layout(props) {\r\n    return (\r\n        <div className=\"viewportWrapper\">\r\n            <NavMenu />\r\n            <Container fluid className=\"mainContentWrapper\">\r\n                {props.children}\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { Layout } from \"./LayoutControl/Layout\";\r\nimport \"./App.css\";\r\n\r\nimport { MENU } from \"./navigationConstants\";\r\nfunction App() {\r\n    let routeOpts = [];\r\n    for (let i = 0; i < MENU.length; ++i) {\r\n        let linkDeets = MENU[i];\r\n        routeOpts.push(\r\n            <Route\r\n                key={i}\r\n                path={linkDeets.routePaths[0]}\r\n                render={(props) => linkDeets.renderFunction(props)}\r\n                exact={linkDeets.exact}\r\n            />\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n            <Switch>{routeOpts}</Switch>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import \"bootstrap/dist/css/bootstrap.css\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport Storage from \"./utility/StorageUtil\";\r\n\r\nconst baseUrl = document.getElementsByTagName(\"base\")[0].getAttribute(\"href\");\r\nconst rootElement = document.getElementById(\"root\");\r\n\r\nStorage.Init().then(() => {\r\n  ReactDOM.render(\r\n    <React.StrictMode>\r\n      <Router basename={baseUrl}>\r\n        <App />\r\n      </Router>\r\n    </React.StrictMode>,\r\n    rootElement\r\n  );\r\n});\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}